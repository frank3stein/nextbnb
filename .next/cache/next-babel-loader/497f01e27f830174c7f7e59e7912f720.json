{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport axios from \"axios\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport Layout from \"../components/Layout\";\n\nvar Host = function Host(_ref) {\n  var houses = _ref.houses,\n      bookings = _ref.bookings;\n  return __jsx(Layout, {\n    content: __jsx(\"div\", {\n      className: \"jsx-2296932384\"\n    }, __jsx(Head, null, __jsx(\"title\", {\n      className: \"jsx-2296932384\"\n    }, \"Your houses\")), __jsx(\"div\", {\n      className: \"jsx-2296932384\" + \" \" + \"container\"\n    }, __jsx(\"div\", {\n      className: \"jsx-2296932384\" + \" \" + \"houses\"\n    }, __jsx(\"h2\", {\n      className: \"jsx-2296932384\"\n    }, \"Your houses\"), __jsx(\"div\", {\n      className: \"jsx-2296932384\" + \" \" + \"list\"\n    }, houses.map(function (house, index) {\n      return __jsx(\"div\", {\n        key: index,\n        className: \"jsx-2296932384\" + \" \" + \"house\"\n      }, __jsx(\"img\", {\n        src: house.picture,\n        alt: \"House picture\",\n        className: \"jsx-2296932384\"\n      }), __jsx(\"div\", {\n        className: \"jsx-2296932384\"\n      }, __jsx(\"h2\", {\n        className: \"jsx-2296932384\"\n      }, house.title, \" in \", house.town), __jsx(\"p\", {\n        className: \"jsx-2296932384\"\n      }, __jsx(Link, {\n        href: \"/houses/\".concat(house.id)\n      }, __jsx(\"a\", {\n        className: \"jsx-2296932384\"\n      }, \"View house page\"))), __jsx(\"p\", {\n        className: \"jsx-2296932384\"\n      }, __jsx(Link, {\n        href: \"/host/\".concat(house.id)\n      }, __jsx(\"a\", {\n        className: \"jsx-2296932384\"\n      }, \"Edit house details\")))));\n    }))), __jsx(\"div\", {\n      className: \"jsx-2296932384\" + \" \" + \"bookings\"\n    }, __jsx(\"h2\", {\n      className: \"jsx-2296932384\"\n    }, \"Your bookings\"), __jsx(\"div\", {\n      className: \"jsx-2296932384\" + \" \" + \"list\"\n    }, bookings.map(function (booking, index) {\n      return __jsx(\"div\", {\n        \"class\": \"booking\",\n        key: index,\n        className: \"jsx-2296932384\"\n      }, __jsx(\"div\", {\n        className: \"jsx-2296932384\"\n      }, __jsx(\"h2\", {\n        className: \"jsx-2296932384\"\n      }, booking.house.title, \" in \", booking.house.town), __jsx(\"p\", {\n        className: \"jsx-2296932384\"\n      }, \"Booked from\", \" \", new Date(booking.booking.startDate).toDateString(), \" \", \"to \", new Date(booking.booking.endDate).toDateString())));\n    })))), __jsx(_JSXStyle, {\n      id: \"2296932384\"\n    }, \".container.jsx-2296932384{display:grid;grid-template-columns:60% 40%;grid-gap:50px;}.list.jsx-2296932384{display:grid;grid-template-columns:100%;grid-gap:40px;margin-top:60px;}.house.jsx-2296932384{display:grid;grid-template-columns:30% 70%;grid-gap:40px;}.house.jsx-2296932384 img.jsx-2296932384{width:100px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2VtaWwvZGV2ZWxvcG1lbnQvbmV4dGJuYi9wYWdlcy9ob3N0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWtFc0IsQUFHNEIsQUFNQSxBQU9BLEFBTUQsWUFDZCxDQW5CZ0MsQUFNSCxBQU9HLDJCQU5oQixHQU5BLEFBYUEsV0FORSxHQU5sQixBQWFBLGFBTkEiLCJmaWxlIjoiL2hvbWUvZW1pbC9kZXZlbG9wbWVudC9uZXh0Ym5iL3BhZ2VzL2hvc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgSGVhZCBmcm9tIFwibmV4dC9oZWFkXCI7XG5pbXBvcnQgTGluayBmcm9tIFwibmV4dC9saW5rXCI7XG5cbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvTGF5b3V0XCI7XG5cbmNvbnN0IEhvc3QgPSAoeyBob3VzZXMsIGJvb2tpbmdzIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0XG4gICAgICBjb250ZW50PXtcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8SGVhZD5cbiAgICAgICAgICAgIDx0aXRsZT5Zb3VyIGhvdXNlczwvdGl0bGU+XG4gICAgICAgICAgPC9IZWFkPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhvdXNlc1wiPlxuICAgICAgICAgICAgICA8aDI+WW91ciBob3VzZXM8L2gyPlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdFwiPlxuICAgICAgICAgICAgICAgIHtob3VzZXMubWFwKChob3VzZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG91c2VcIiBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17aG91c2UucGljdHVyZX0gYWx0PVwiSG91c2UgcGljdHVyZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2hvdXNlLnRpdGxlfSBpbiB7aG91c2UudG93bn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC9ob3VzZXMvJHtob3VzZS5pZH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YT5WaWV3IGhvdXNlIHBhZ2U8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL2hvc3QvJHtob3VzZS5pZH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YT5FZGl0IGhvdXNlIGRldGFpbHM8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib29raW5nc1wiPlxuICAgICAgICAgICAgICA8aDI+WW91ciBib29raW5nczwvaDI+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0XCI+XG4gICAgICAgICAgICAgICAge2Jvb2tpbmdzLm1hcCgoYm9va2luZywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib29raW5nXCIga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2Jvb2tpbmcuaG91c2UudGl0bGV9IGluIHtib29raW5nLmhvdXNlLnRvd259XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEJvb2tlZCBmcm9te1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bmV3IERhdGUoYm9va2luZy5ib29raW5nLnN0YXJ0RGF0ZSkudG9EYXRlU3RyaW5nKCl9e1wiIFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0byB7bmV3IERhdGUoYm9va2luZy5ib29raW5nLmVuZERhdGUpLnRvRGF0ZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogNjAlIDQwJTtcbiAgICAgICAgICAgICAgZ3JpZC1nYXA6IDUwcHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5saXN0IHtcbiAgICAgICAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxMDAlO1xuICAgICAgICAgICAgICBncmlkLWdhcDogNDBweDtcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogNjBweDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLmhvdXNlIHtcbiAgICAgICAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAzMCUgNzAlO1xuICAgICAgICAgICAgICBncmlkLWdhcDogNDBweDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLmhvdXNlIGltZyB7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMDBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBgfTwvc3R5bGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgIC8+XG4gICk7XG59O1xuXG5Ib3N0LmdldEluaXRpYWxQcm9wcyA9IGFzeW5jIGN0eCA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3Moe1xuICAgIG1ldGhvZDogXCJnZXRcIixcbiAgICB1cmw6IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9ob3N0L2xpc3RcIixcbiAgICBoZWFkZXJzOiBjdHgucmVxID8geyBjb29raWU6IGN0eC5yZXEuaGVhZGVycy5jb29raWUgfSA6IHVuZGVmaW5lZFxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGhvdXNlczogcmVzcG9uc2UuZGF0YS5ob3VzZXMsXG4gICAgYm9va2luZ3M6IHJlc3BvbnNlLmRhdGEuYm9va2luZ3NcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhvc3Q7XG4iXX0= */\\n/*@ sourceURL=/home/emil/development/nextbnb/pages/host.js */\"))\n  });\n};\n\nHost.getInitialProps = function _callee(ctx) {\n  var response;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(axios({\n            method: \"get\",\n            url: \"http://localhost:3000/api/host/list\",\n            headers: ctx.req ? {\n              cookie: ctx.req.headers.cookie\n            } : undefined\n          }));\n\n        case 2:\n          response = _context.sent;\n          return _context.abrupt(\"return\", {\n            houses: response.data.houses,\n            bookings: response.data.bookings\n          });\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default Host;","map":{"version":3,"sources":["/home/emil/development/nextbnb/pages/host.js"],"names":["axios","Head","Link","Layout","Host","houses","bookings","map","house","index","picture","title","town","id","booking","Date","startDate","toDateString","endDate","getInitialProps","ctx","method","url","headers","req","cookie","undefined","response","data"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,OAA0B;AAAA,MAAvBC,MAAuB,QAAvBA,MAAuB;AAAA,MAAfC,QAAe,QAAfA,QAAe;AACrC,SACE,MAAC,MAAD;AACE,IAAA,OAAO,EACL;AAAA;AAAA,OACE,MAAC,IAAD,QACE;AAAA;AAAA,qBADF,CADF,EAIE;AAAA,0CAAe;AAAf,OACE;AAAA,0CAAe;AAAf,OACE;AAAA;AAAA,qBADF,EAGE;AAAA,0CAAe;AAAf,OACGD,MAAM,CAACE,GAAP,CAAW,UAACC,KAAD,EAAQC,KAAR,EAAkB;AAC5B,aACE;AAAuB,QAAA,GAAG,EAAEA,KAA5B;AAAA,4CAAe;AAAf,SACE;AAAK,QAAA,GAAG,EAAED,KAAK,CAACE,OAAhB;AAAyB,QAAA,GAAG,EAAC,eAA7B;AAAA;AAAA,QADF,EAEE;AAAA;AAAA,SACE;AAAA;AAAA,SACGF,KAAK,CAACG,KADT,UACoBH,KAAK,CAACI,IAD1B,CADF,EAIE;AAAA;AAAA,SACE,MAAC,IAAD;AAAM,QAAA,IAAI,oBAAaJ,KAAK,CAACK,EAAnB;AAAV,SACE;AAAA;AAAA,2BADF,CADF,CAJF,EASE;AAAA;AAAA,SACE,MAAC,IAAD;AAAM,QAAA,IAAI,kBAAWL,KAAK,CAACK,EAAjB;AAAV,SACE;AAAA;AAAA,8BADF,CADF,CATF,CAFF,CADF;AAoBD,KArBA,CADH,CAHF,CADF,EA6BE;AAAA,0CAAe;AAAf,OACE;AAAA;AAAA,uBADF,EAGE;AAAA,0CAAe;AAAf,OACGP,QAAQ,CAACC,GAAT,CAAa,UAACO,OAAD,EAAUL,KAAV,EAAoB;AAChC,aACE;AAAK,iBAAM,SAAX;AAAqB,QAAA,GAAG,EAAEA,KAA1B;AAAA;AAAA,SACE;AAAA;AAAA,SACE;AAAA;AAAA,SACGK,OAAO,CAACN,KAAR,CAAcG,KADjB,UAC4BG,OAAO,CAACN,KAAR,CAAcI,IAD1C,CADF,EAIE;AAAA;AAAA,wBACc,GADd,EAEG,IAAIG,IAAJ,CAASD,OAAO,CAACA,OAAR,CAAgBE,SAAzB,EAAoCC,YAApC,EAFH,EAEuD,GAFvD,SAGM,IAAIF,IAAJ,CAASD,OAAO,CAACA,OAAR,CAAgBI,OAAzB,EAAkCD,YAAlC,EAHN,CAJF,CADF,CADF;AAcD,KAfA,CADH,CAHF,CA7BF,CAJF;AAAA;AAAA;AAFJ,IADF;AAuFD,CAxFD;;AA0FAb,IAAI,CAACe,eAAL,GAAuB,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACEpB,KAAK,CAAC;AAC3BqB,YAAAA,MAAM,EAAE,KADmB;AAE3BC,YAAAA,GAAG,EAAE,qCAFsB;AAG3BC,YAAAA,OAAO,EAAEH,GAAG,CAACI,GAAJ,GAAU;AAAEC,cAAAA,MAAM,EAAEL,GAAG,CAACI,GAAJ,CAAQD,OAAR,CAAgBE;AAA1B,aAAV,GAA+CC;AAH7B,WAAD,CADP;;AAAA;AACfC,UAAAA,QADe;AAAA,2CAOd;AACLtB,YAAAA,MAAM,EAAEsB,QAAQ,CAACC,IAAT,CAAcvB,MADjB;AAELC,YAAAA,QAAQ,EAAEqB,QAAQ,CAACC,IAAT,CAActB;AAFnB,WAPc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAvB;;AAaA,eAAeF,IAAf","sourcesContent":["import axios from \"axios\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\n\nimport Layout from \"../components/Layout\";\n\nconst Host = ({ houses, bookings }) => {\n  return (\n    <Layout\n      content={\n        <div>\n          <Head>\n            <title>Your houses</title>\n          </Head>\n          <div className=\"container\">\n            <div className=\"houses\">\n              <h2>Your houses</h2>\n\n              <div className=\"list\">\n                {houses.map((house, index) => {\n                  return (\n                    <div className=\"house\" key={index}>\n                      <img src={house.picture} alt=\"House picture\" />\n                      <div>\n                        <h2>\n                          {house.title} in {house.town}\n                        </h2>\n                        <p>\n                          <Link href={`/houses/${house.id}`}>\n                            <a>View house page</a>\n                          </Link>\n                        </p>\n                        <p>\n                          <Link href={`/host/${house.id}`}>\n                            <a>Edit house details</a>\n                          </Link>\n                        </p>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n            <div className=\"bookings\">\n              <h2>Your bookings</h2>\n\n              <div className=\"list\">\n                {bookings.map((booking, index) => {\n                  return (\n                    <div class=\"booking\" key={index}>\n                      <div>\n                        <h2>\n                          {booking.house.title} in {booking.house.town}\n                        </h2>\n                        <p>\n                          Booked from{\" \"}\n                          {new Date(booking.booking.startDate).toDateString()}{\" \"}\n                          to {new Date(booking.booking.endDate).toDateString()}\n                        </p>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n          <style jsx>{`\n            .container {\n              display: grid;\n              grid-template-columns: 60% 40%;\n              grid-gap: 50px;\n            }\n\n            .list {\n              display: grid;\n              grid-template-columns: 100%;\n              grid-gap: 40px;\n              margin-top: 60px;\n            }\n\n            .house {\n              display: grid;\n              grid-template-columns: 30% 70%;\n              grid-gap: 40px;\n            }\n\n            .house img {\n              width: 100px;\n            }\n          `}</style>\n        </div>\n      }\n    />\n  );\n};\n\nHost.getInitialProps = async ctx => {\n  const response = await axios({\n    method: \"get\",\n    url: \"http://localhost:3000/api/host/list\",\n    headers: ctx.req ? { cookie: ctx.req.headers.cookie } : undefined\n  });\n\n  return {\n    houses: response.data.houses,\n    bookings: response.data.bookings\n  };\n};\n\nexport default Host;\n"]},"metadata":{},"sourceType":"module"}